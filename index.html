<!doctype html>

<html lang="en">
<head>
<meta charset=utf-8 />
<title>Final Project</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
 <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />

 <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>

<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/darkly/bootstrap.min.css" rel="stylesheet" integrity="sha384-kVo/Eh0sv7ZdiwZK32nRsp1FrDT3sLRLx3zVpSSTI9UdO5H02LJNLBg5F1gwvKg0" crossorigin="anonymous">
<link href='https://fonts.googleapis.com/css?family=Elsie+Swash+Caps' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="css/style.css?v=1.0">

</head>

<style>
 h1{
  text-align: center;
}
body { margin:0; padding:0; font-family: 'Slabo 27px', serif}
  #map { 
     width:100%; 
    height: 500px;
    font-color:#8dd3c7
  }

  #infoWindow{
    font-size: 20px;
    padding: 6px 8px;
    background: #1b9e77;
    margin-left: 20px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    border-radius: 5px;
  }
 
 .sidebar-wrapper {
  width: 100%;
  height: 100%;
  position: relative;
  }
  #sidebar {
  width: 250px;
  height: 100%;
  max-width: 100%;
  float: left;
  -webkit-transition: all 0.25s ease-out;
    -moz-transition: all 0.25s ease-out;
    transition: all 0.25s ease-out;
}
.sidebar-table {
  position: absolute;
  width: 100%;
  top: 103px;
  bottom: 0px;
  overflow: auto;
}
.navbar-header a.navbar-icon {
  margin-left: 25px;
}
 p{
font-family: 'Slabo 27px', serif;
padding:10px;
margin: 0 auto;
font-color: #8dd3c7;
}

.legend {
    line-height: 18px;
    color: #555;
}
.legend i {
    width: 18px;
    height: 18px;
    float: left;
    margin-right: 8px;
    opacity: 0.7;
}

  </style>
<body>
<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
<script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <div class="navbar-icon-container">
            <a href="#" class="navbar-icon pull-right visible-xs" id="nav-btn"><i class="fa fa-bars fa-lg white"></i></a>
            <a href="#" class="navbar-icon pull-right visible-xs" id="sidebar-toggle-btn"><i class="fa fa-search fa-lg white"></i></a>
          </div>
          <a class="navbar-brand" href="#">Energy Sector in India</a>
        </div>
        <div class="navbar-collapse collapse">
          <form class="navbar-form navbar-right" role="search">
            <div class="form-group has-feedback">
                <input id="searchbox" type="text" placeholder="Search" class="form-control">
                <span id="searchicon" class="fa fa-search form-control-feedback"></span>
            </div>
          </form>
         
            </li>
          
          </ul>
        </div><!--/.navbar-collapse -->
      </div>
    </div>
    <br>
    <br>


<h1> Potential of Renewable Energy</h1>
<p>
With a Population of 1.2 billion people, that is bound to rise even more, India faces massive energy needs and demand is often higher than supply. The country's energy consumption has doubled since 2000 and is also resposible for almost 10 % increase in global energy demand since then. India is likely to add 600 GW to 1200 GW of additional new power generation capacity before Year 2050. Here's a look at the the State-wise potential of Various Reneable Energy Technologies. Click on the Respective Tabs!
<P>

<div class="btn-group btn-group-justified" role="group" aria-label="...">

  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default" id="wind_power">Wind Power</button>
  </div>
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default" id='small_hydropower'>Small Hydro Power</button>
  </div>
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default">Bio-Energy-Bagase Cogereneration</button>
  </div>
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default">Bio-Energy-Waste to Energy</button>
  </div>
</div>

<div id="map"></div>
<div id="infoWindow"></div>
<script type="text/javascript">
 var osmLink = 'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',
    thunLink = '<http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png';

    var osmUrl =' http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',
    osmAttrib = '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
    landUrl = 'http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png',
    thunAttrib = '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>';

    var osmMap = L.tileLayer(osmUrl, {attribution: osmAttrib}),
       landMap = L.tileLayer(landUrl, {attribution: thunAttrib});

   
    var map = L.map('map', {layers: [osmMap] }).setView([21.534847,78.574219], 5);

    var baseLayers = {
          "Light": osmMap,
          "Dark": landMap
        };

L.control.layers(baseLayers).addTo(map);

// var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
//   attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'
// });


//       var map = L.map('map', {
//         scrollWheelZoom: false,
//         center: [21.534847,78.574219],
//         zoom: 5
//       });
//       map.addLayer(layer);
      var geojson;

      function getColor(w) {
        return w > 20000 ? '#034e7b' :
               w > 10000 ? '#0570b0':
               w >  5000 ? '#3690c0' :
               w >  1000 ? '#74a9cf' :
               w >   100 ? '#a6bddb' :
               w >     1 ? '#d0d1e6' :
               // m > 10   ? '#FED976' :
                          '#f1eef6';
          }
         function style(feature) {
        console.log(feature);

       console.log(parseInt(feature.properties.wind_power))

        return {
        fillColor: getColor(parseInt(feature.properties.wind_power)),
        weight: 2,
        opacity: 1,
        color: 'white',
        dashArray: '3',
        fillOpacity: 0.7
            };
           }
           // for small hydro power
           function getColor2(w) {
        return w >  2000 ? '#4a1486' :
               w >  1000 ? '#6a51a3':
               w >   500 ? '#807dba' :
               w >   100 ? '#9e9ac8' :
               w >    50 ? '#bcbddc' :
               w >     1 ? '#d0d1e6' :
               // m > 10   ? '#FED976' :
                          '#f2f0f7';
          }
           function style2(feature) {
        console.log(feature);

       console.log(parseInt(feature.properties.small_hydropower))

        return {
        fillColor: getColor2(parseInt(feature.properties.small_hydropower)),
        weight: 2,
        opacity: 1,
        color: 'white',
        dashArray: '3',
        fillOpacity: 0.7
            };
           }
      function zoomToFeature(e) {
      map.fitBounds(e.target.getBounds());
        }

      function highlightFeature(e) {
        var layer = e.target;
            layer.setStyle({
            weight: 5,
            color: '#f7fcb9',
            dashArray: '',
            fillOpacity: 0.7
        });

        if (!L.Browser.ie && !L.Browser.opera) {
            layer.bringToFront();
        }
             // console.log(layer.feature.properties.name);
          $('#infoWindow').text('The State of '+layer.feature.properties.ST_NAME+'-'+layer.feature.properties.wind_power+'MW');
        }
        function resetHighlight(e) {
        geojson.resetStyle(e.target);
      
                }
        function onEachFeature(feature, layer) {
            layer.on({
           mouseover: highlightFeature,
           mouseout: resetHighlight,
           click: zoomToFeature
           
                    });
                  }
//Putting the clicking function inside a button for wind power
     
      $.getJSON('data/renewable.geojson', function(renewable_data) {
        $('#wind_power').click(function(){
      
      geojson=L.geoJson(renewable_data,{
        style: style,
        onEachFeature:onEachFeature
      }).addTo(map);

      });

     var legend = L.control({position: 'bottomright'});

     legend.onAdd = function (map) {

    var div = L.DomUtil.create('div', 'infoWindow legend'),
        grades = [0,1, 100, 1000, 5000, 10000, 20000 ],
        labels = [];

    for (var i = 0; i < grades.length; i++) {
        div.innerHTML +=
            '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
            grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
    }

    return div;
      };

    legend.addTo(map);
      });//Closing the windpower button

      // Starting Small Hydro Power Map
     $('small_hydropower').click(function(){
      
      geojson=L.geoJson(renewable_data,{
        style: style2,
        onEachFeature:onEachFeature
      }).addTo(map);
    
      });

</script>
</body>
</html>